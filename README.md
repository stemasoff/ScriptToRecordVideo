###### **Скрипт для записи видео.**

Для захвата видеопотока используется
программа ffmpeg.


**Как с ним работать.**

Скрипт записывает rtsp поток с камеры и удаляет старые записи. Для захвата видеопотока используется
программа ffmpeg.
Для того, чтобы скрипт удалял старые файлы, 
нужно указать максимальный вес главной папки(/home/cam/video/) в config.py.


Чтобы добавть камеру, напишите название камеры в main.py, присвойте ей класс Camera с атрибутами:

1) Папка, в которую он будет записывать видео(будет находиться в корне главной папки)

2) Ip камеры

3) Порт

4) URL путь

5) Логин и пароль для авторизации в виде login:pass

После этого нужно добавить новый поток для нее. Введите название_камеры.thread.start()


Для изменения коонфигурации зайдите в файл config.py


**Недоработки скрипта, которые надо бы пофиксить, когда будет время:**
1) Скрипт можно завершить только путим нажатия Ctrl + Z
2) После завершения скрипта он "бьет" последнее видео
3) Если отключить камеру от питания на некоторое время без остановки скрипта, то при подключения
обратно, скрипт не начинает заново вести запись. Ffmpeg выдает ошибку о том, что rtsp поток недоступен.
Решается отключением скрипта и камеры на некоторое время. Затем нужно включить сначала камеру, потом скрипт.


**Заметки:**
Думаю, данные баги можно пофиксить, если использоваь API ffmpeg или вместо threading использовать
модуль subprocess.

